{"ast":null,"code":"import _classCallCheck from\"/Users/akhilgupta/Desktop/Teen Patti/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/akhilgupta/Desktop/Teen Patti/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/akhilgupta/Desktop/Teen Patti/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/akhilgupta/Desktop/Teen Patti/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/akhilgupta/Desktop/Teen Patti/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{TextField,Button}from'@material-ui/core';import Box from'@material-ui/core/Box';import fire from'firebase';import'../App.css';var divStyle={display:'flex',justifyContent:'center'};var table={display:'grid'};var horizontal={display:'flex',justifyContent:'center'};var Cards=/*#__PURE__*/function(_Component){_inherits(Cards,_Component);var _super=_createSuper(Cards);function Cards(props){var _this;_classCallCheck(this,Cards);_this=_super.call(this,props);_this.setupBeforeUnloadListener=function(){window.addEventListener(\"beforeunload\",function(ev){ev.preventDefault();return _this.logout();});};_this.logout=_this.logout.bind(_assertThisInitialized(_this));_this.handleNumPlayersFieldChange=_this.handleNumPlayersFieldChange.bind(_assertThisInitialized(_this));_this.handleNumCardsFieldChange=_this.handleNumCardsFieldChange.bind(_assertThisInitialized(_this));_this.generate=_this.generate.bind(_assertThisInitialized(_this));_this.getCards=_this.getCards.bind(_assertThisInitialized(_this));_this.getRealCards=_this.getRealCards.bind(_assertThisInitialized(_this));_this.resetGame=_this.resetGame.bind(_assertThisInitialized(_this));_this.packed=_this.packed.bind(_assertThisInitialized(_this));_this.showCards=_this.showCards.bind(_assertThisInitialized(_this));_this.updateTable=_this.updateTable.bind(_assertThisInitialized(_this));_this.scrollToBottom=_this.scrollToBottom.bind(_assertThisInitialized(_this));_this.getCellColor=_this.getCellColor.bind(_assertThisInitialized(_this));_this.state={cardIndicies:_this.getCardIndicies(),firstCard:[],secondCard:[],thirdCard:[],fourthCard:[],playerStats:[],numPlayers:0,numPackedPlayers:0,numCards:3,userState:_this.props.userState,displayName:'',gameSet:true,enableSee:_this.getEnableSee(),enablePack:_this.getEnablePack(),enableShow:_this.getEnableShow(),firstImgUrl:_this.getFirstCardURL(),secondImgUrl:_this.getSecondCardURL(),thirdImgUrl:_this.getThirdCardURL(),fourthImgUrl:_this.getFourthCardURL()};return _this;}_createClass(Cards,[{key:\"scrollToBottom\",value:function scrollToBottom(){var cardsStats=this.refs.cardsStats;cardsStats.scrollIntoView({behavior:\"smooth\",block:\"end\",inline:\"nearest\"});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setupBeforeUnloadListener();fire.auth().onAuthStateChanged(function(user){if(user){_this2.setState({displayName:user.displayName,userState:user});}});fire.database().ref('users').on('value',function(snap){var snapVal=snap.val();_this2.setState({gameSet:snapVal.isGameSet,numCards:parseInt(snapVal.numCardsPerPlayer),numPlayers:parseInt(snapVal.numPlayers),numPackedPlayers:parseInt(snapVal.numPackedPlayers)},function(){_this2.updateTable();});});fire.database().ref('users/list').on('child_changed',function(snap){_this2.updateTable();});this.updateTable();}},{key:\"updateTable\",value:function updateTable(){var _this3=this;this.setState({playerStats:[]});if(this.state.gameSet&&parseInt(this.state.numPlayers)-parseInt(this.state.numPackedPlayers)==2){if(this.getEnablePack()){this.storeEnableShow(true);}}else if(!this.state.gameSet){localStorage.clear();}fire.database().ref('users').child('list').once('value').then(function(snap){snap.forEach(function(user){if(user.val().isLoggedIn){var name=user.val().name;var status=user.val().status;if(user.val().cards!=null){var urls=user.val().cards.urls;}if(status=='SHOW'&&urls!=null){_this3.setState({playerStats:_this3.state.playerStats.concat({name:name,status:status,urls:urls})});}else{_this3.setState({playerStats:_this3.state.playerStats.concat({name:name,status:status})});}}});});}},{key:\"logout\",value:function logout(){var _this4=this;localStorage.clear();fire.database().ref('users/list/'+fire.auth().currentUser.uid).update({cards:null,isLoggedIn:false,status:'BLIND'}).then(function(u){fire.auth().signOut().then(function(result){_this4.setState({userState:null});});});}},{key:\"resetGame\",value:function resetGame(e){e.preventDefault();localStorage.clear();// update isGameSet to database after reset game\nvar updates={};var ref=fire.database().ref('users/');updates['isGameSet']=false;updates['numPackedPlayers']=0;this.setState({gameSet:false,firstCard:[],secondCard:[],thirdCard:[],fourthCard:[],playerStats:[],cardIndicies:[],numPackedPlayers:0,firstImgUrl:'',secondImgUrl:'',thirdImgUrl:'',fourthImgUrl:''});this.storeEnableSee(true);this.storeEnablePack(false);this.storeEnableShow(false);ref.update(updates).then(function(u){fire.database().ref('users').child('list').once('value').then(function(snap){snap.forEach(function(user){if(user.val().isLoggedIn){fire.database().ref('users/list/'+user.key).update({cards:null,status:'BLIND'});}});});});}},{key:\"generate\",value:function generate(e){var _this5=this;e.preventDefault();// update isGameSet, numCards and numPlayers to database\nvar updates={};var ref=fire.database().ref('users/');updates['isGameSet']=true;updates['numCardsPerPlayer']=this.state.numCards;updates['numPlayers']=this.state.numPlayers;ref.update(updates).then(function(u){_this5.setState({gameSet:true});});var randomNumbers=new Set();var cardsTrips=[];for(var _i=0;_i<52;_i++){var rand=Math.floor(Math.random()*51);randomNumbers.add(rand);}var cardsSet=randomNumbers.values();var cardsNum=this.state.numCards;for(var j=0;j<this.state.numPlayers;j++){if(cardsNum==1){cardsTrips[j]=[cardsSet.next().value];}else if(cardsNum==2){cardsTrips[j]=[cardsSet.next().value,cardsSet.next().value];}else if(cardsNum==3){cardsTrips[j]=[cardsSet.next().value,cardsSet.next().value,cardsSet.next().value];}else if(cardsNum==4){cardsTrips[j]=[cardsSet.next().value,cardsSet.next().value,cardsSet.next().value,cardsSet.next().value];}else{cardsTrips[j]=[cardsSet.next().value,cardsSet.next().value,cardsSet.next().value];}}// update cards to database\nvar i=0;fire.database().ref('users').child('list').once('value').then(function(snap){snap.forEach(function(user){if(user.val().isLoggedIn&&i<_this5.state.numPlayers){fire.database().ref('users/list/'+user.key).update({cards:cardsTrips[i]});i++;}});});}},{key:\"getCards\",value:function getCards(e){var _this6=this;e.preventDefault();if(this.state.gameSet==true){fire.database().ref('users/list/'+fire.auth().currentUser.uid+'/cards').once('value').then(function(snap){_this6.storeCardIndicies(snap.val());_this6.getRealCards();}).then(function(u){_this6.storeEnableSee(false);_this6.storeEnablePack(true);_this6.storeEnableShow(false);fire.database().ref('users/list/'+fire.auth().currentUser.uid).update({status:'SEEN'});});}else{window.confirm(\"You need to setup a game before seeing your cards\");}}},{key:\"getRealCards\",value:function getRealCards(){var cardsNum=this.state.numCards;if(cardsNum==1){this.getFirstRealCard();}else if(cardsNum==2){this.getSecondRealCard();}else if(cardsNum==3){this.getThirdRealCard();}else if(cardsNum==4){this.getFourthRealCard();}else{this.getThirdRealCard();}}},{key:\"packed\",value:function packed(e){var _this7=this;e.preventDefault();this.storePacked();var updates={};var ref=fire.database().ref('users/');updates['numPackedPlayers']=parseInt(this.state.numPackedPlayers)+1;ref.update(updates).then(function(u){_this7.setState({numPackedPlayers:parseInt(_this7.state.numPackedPlayers)+1});}).then(function(u){fire.database().ref('users/list/'+fire.auth().currentUser.uid).update({status:'PACK'});});}},{key:\"showCards\",value:function showCards(e){e.preventDefault();this.storeEnableSee(false);this.storeEnablePack(false);this.storeEnableShow(false);fire.database().ref('users/list/'+fire.auth().currentUser.uid).update({status:'SHOW'});}},{key:\"renderStats\",value:function renderStats(){var _this8=this;var stats=this.state.playerStats;var trimmedStats=stats.slice(Math.max(stats.length-parseInt(this.state.numPlayers),0));return/*#__PURE__*/React.createElement(\"div\",{style:table},/*#__PURE__*/React.createElement(\"table\",{align:\"center\",border:\"1\",width:\"500px\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Name\")),/*#__PURE__*/React.createElement(\"th\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Status\")),/*#__PURE__*/React.createElement(\"th\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Cards\")))),/*#__PURE__*/React.createElement(\"tbody\",null,trimmedStats.map(function(row,index){return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"h3\",null,row.name)),/*#__PURE__*/React.createElement(\"td\",{style:{'background-color':_this8.getCellColor(row)}},/*#__PURE__*/React.createElement(\"h3\",null,/*#__PURE__*/React.createElement(\"font\",{color:\"#FFF\"},row.status))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"h3\",null,_this8.getRealCardsMessage(row.urls))));}))));}},{key:\"renderCardsPictures\",value:function renderCardsPictures(){return/*#__PURE__*/React.createElement(\"div\",{style:horizontal},this.renderRealCards());}},{key:\"renderRealCards\",value:function renderRealCards(){var cardsNum=this.state.numCards;if(this.state.gameSet&&this.getCardIndicies().length>0){if(cardsNum==1){return/*#__PURE__*/React.createElement(\"div\",{style:horizontal},/*#__PURE__*/React.createElement(\"img\",{width:\"100\",height:\"125\",alt:\"first-card\",src:this.state.firstImgUrl||''}));}else if(cardsNum==2){return/*#__PURE__*/React.createElement(\"div\",{style:horizontal},/*#__PURE__*/React.createElement(\"img\",{width:\"100\",height:\"125\",alt:\"first-card\",src:this.state.firstImgUrl||''}),/*#__PURE__*/React.createElement(\"img\",{width:\"100\",height:\"125\",alt:\"second-card\",src:this.state.secondImgUrl||''}));}else if(cardsNum==3){return/*#__PURE__*/React.createElement(\"div\",{style:horizontal},/*#__PURE__*/React.createElement(\"img\",{width:\"100\",height:\"125\",alt:\"first-card\",src:this.state.firstImgUrl||''}),/*#__PURE__*/React.createElement(\"img\",{width:\"100\",height:\"125\",alt:\"second-card\",src:this.state.secondImgUrl||''}),/*#__PURE__*/React.createElement(\"img\",{width:\"100\",height:\"125\",alt:\"third-card\",src:this.state.thirdImgUrl||''}));}else if(cardsNum==4){return/*#__PURE__*/React.createElement(\"div\",{style:horizontal},/*#__PURE__*/React.createElement(\"img\",{width:\"100\",height:\"125\",alt:\"first-card\",src:this.state.firstImgUrl||''}),/*#__PURE__*/React.createElement(\"img\",{width:\"100\",height:\"125\",alt:\"second-card\",src:this.state.secondImgUrl||''}),/*#__PURE__*/React.createElement(\"img\",{width:\"100\",height:\"125\",alt:\"third-card\",src:this.state.thirdImgUrl||''}),/*#__PURE__*/React.createElement(\"img\",{width:\"100\",height:\"125\",alt:\"fourth-card\",src:this.state.fourthImgUrl||''}));}}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"setup_game\",style:divStyle},!this.state.gameSet&&/*#__PURE__*/React.createElement(\"div\",{style:divStyle},/*#__PURE__*/React.createElement(Box,{m:2},/*#__PURE__*/React.createElement(TextField,{id:\"numPlayers\",label:\"Number of players\",value:this.state.numPlayers,onChange:this.handleNumPlayersFieldChange,helperText:\"Please enter the number of players\"})),/*#__PURE__*/React.createElement(Box,{m:2},/*#__PURE__*/React.createElement(TextField,{id:\"numCards\",label:\"Number of cards\",value:this.state.numCards,onChange:this.handleNumCardsFieldChange,helperText:\"Please enter the number of cards\"})),/*#__PURE__*/React.createElement(Box,{m:2,pt:3},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"secondary\",onClick:this.generate.bind(this)},\"SETUP GAME\")),\" \")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Box,null,/*#__PURE__*/React.createElement(Button,{size:\"large\",variant:\"outlined\",color:\"primary\"},\"Hello, \",this.state.displayName)),/*#__PURE__*/React.createElement(\"div\",{className:\"logout_reset\",style:divStyle},/*#__PURE__*/React.createElement(Box,{m:2},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:this.logout.bind(this)},\"Logout\")),/*#__PURE__*/React.createElement(Box,{m:2},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:this.resetGame.bind(this)},\"Reset Game\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"logout_reset\",style:divStyle},/*#__PURE__*/React.createElement(Box,{m:2},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:this.getCards.bind(this),disabled:!this.getEnableSee()},\"See Cards\")),/*#__PURE__*/React.createElement(Box,{m:2},/*#__PURE__*/React.createElement(Button,{style:{backgroundColor:'crimson'},variant:\"contained\",color:\"primary\",onClick:this.packed.bind(this),disabled:!this.getEnablePack()},\"Pack\")),/*#__PURE__*/React.createElement(Box,{m:2},/*#__PURE__*/React.createElement(Button,{style:{backgroundColor:'green'},variant:\"contained\",color:\"primary\",onClick:this.showCards.bind(this),disabled:!this.getEnableShow()},\"Show Cards\"))),/*#__PURE__*/React.createElement(\"div\",{style:horizontal},/*#__PURE__*/React.createElement(\"h2\",null,\"Your cards are:\"),this.renderCardsPictures()),/*#__PURE__*/React.createElement(\"div\",{ref:\"cardsStats\"},this.renderStats()));}},{key:\"handleNumPlayersFieldChange\",value:function handleNumPlayersFieldChange(e){e.preventDefault();var num=e.target.value;this.setState({numPlayers:num});}},{key:\"handleNumCardsFieldChange\",value:function handleNumCardsFieldChange(e){e.preventDefault();var num=e.target.value;this.setState({numCards:num});}// Util methods\n},{key:\"getCellColor\",value:function getCellColor(row){if(row.status=='BLIND'){return'black';}else if(row.status=='PACK'){return'crimson';}else if(row.status=='SEEN'){return'royalblue';}else{return'green';}}},{key:\"getRealCardsMessage\",value:function getRealCardsMessage(urls){var cardsNum=this.state.numCards;if(this.state.gameSet&&urls!=null&&urls.length>0){if(cardsNum==1){return/*#__PURE__*/React.createElement(\"div\",{style:horizontal},/*#__PURE__*/React.createElement(\"img\",{width:\"100\",height:\"125\",alt:\"first-card\",src:urls[0]||''}));}else if(cardsNum==2){return/*#__PURE__*/React.createElement(\"div\",{style:horizontal},/*#__PURE__*/React.createElement(\"img\",{width:\"100\",height:\"125\",alt:\"first-card\",src:urls[0]||''}),/*#__PURE__*/React.createElement(\"img\",{width:\"100\",height:\"125\",alt:\"second-card\",src:urls[1]||''}));}else if(cardsNum==3){return/*#__PURE__*/React.createElement(\"div\",{style:horizontal},/*#__PURE__*/React.createElement(\"img\",{width:\"100\",height:\"125\",alt:\"first-card\",src:urls[0]||''}),/*#__PURE__*/React.createElement(\"img\",{width:\"100\",height:\"125\",alt:\"second-card\",src:urls[1]||''}),/*#__PURE__*/React.createElement(\"img\",{width:\"100\",height:\"125\",alt:\"third-card\",src:urls[2]||''}));}else if(cardsNum==4){return/*#__PURE__*/React.createElement(\"div\",{style:horizontal},/*#__PURE__*/React.createElement(\"img\",{width:\"100\",height:\"125\",alt:\"first-card\",src:urls[0]||''}),/*#__PURE__*/React.createElement(\"img\",{width:\"100\",height:\"125\",alt:\"second-card\",src:urls[1]||''}),/*#__PURE__*/React.createElement(\"img\",{width:\"100\",height:\"125\",alt:\"third-card\",src:urls[2]||''}),/*#__PURE__*/React.createElement(\"img\",{width:\"100\",height:\"125\",alt:\"fourth-card\",src:urls[3]||''}));}}}},{key:\"getFirstRealCard\",value:function getFirstRealCard(){var _this9=this;fire.database().ref('cards/'+this.state.cardIndicies[0]).once('value').then(function(snap){_this9.storeFirstCard(snap.val());}).then(function(u){fire.storage().ref('/').child(\"\".concat(_this9.getFirstCard().fullName,\".png\")).getDownloadURL().then(function(url){_this9.storeFirstCardURL(url);}).then(function(u){fire.database().ref('users/list/'+fire.auth().currentUser.uid+'/cards/urls').update({0:_this9.getFirstCardURL()});});});}},{key:\"getSecondRealCard\",value:function getSecondRealCard(){var _this10=this;this.getFirstRealCard();fire.database().ref('cards/'+this.state.cardIndicies[1]).once('value').then(function(snap){_this10.storeSecondCard(snap.val());}).then(function(u){fire.storage().ref('/').child(\"\".concat(_this10.getSecondCard().fullName,\".png\")).getDownloadURL().then(function(url){_this10.storeSecondCardURL(url);}).then(function(u){fire.database().ref('users/list/'+fire.auth().currentUser.uid+'/cards/urls').update({1:_this10.getSecondCardURL()});});});}},{key:\"getThirdRealCard\",value:function getThirdRealCard(){var _this11=this;this.getFirstRealCard();this.getSecondRealCard();fire.database().ref('cards/'+this.state.cardIndicies[2]).once('value').then(function(snap){_this11.storeThirdCard(snap.val());}).then(function(u){fire.storage().ref('/').child(\"\".concat(_this11.getThirdCard().fullName,\".png\")).getDownloadURL().then(function(url){_this11.storeThirdCardURL(url);}).then(function(u){fire.database().ref('users/list/'+fire.auth().currentUser.uid+'/cards/urls').update({2:_this11.getThirdCardURL()});});});}},{key:\"getFourthRealCard\",value:function getFourthRealCard(){var _this12=this;this.getFirstRealCard();this.getSecondRealCard();this.getThirdRealCard();fire.database().ref('cards/'+this.state.cardIndicies[3]).once('value').then(function(snap){_this12.storeFourthCard(snap.val());}).then(function(u){fire.storage().ref('/').child(\"\".concat(_this12.getFourthCard().fullName,\".png\")).getDownloadURL().then(function(url){_this12.storeFourthCardURL(url);}).then(function(u){fire.database().ref('users/list/'+fire.auth().currentUser.uid+'/cards/urls').update({3:_this12.getFourthCardURL()});});});}// Store and get from local storage\n},{key:\"storeCardIndicies\",value:function storeCardIndicies(indicies){localStorage.setItem('cardIndicies',JSON.stringify(indicies));this.setState({cardIndicies:indicies});}},{key:\"storeFirstCard\",value:function storeFirstCard(card){localStorage.setItem('firstCard',JSON.stringify(card));this.setState({firstCard:card});}},{key:\"storeSecondCard\",value:function storeSecondCard(card){localStorage.setItem('secondCard',JSON.stringify(card));this.setState({secondCard:card});}},{key:\"storeThirdCard\",value:function storeThirdCard(card){localStorage.setItem('thirdCard',JSON.stringify(card));this.setState({thirdCard:card});}},{key:\"storeFourthCard\",value:function storeFourthCard(card){localStorage.setItem('fourthCard',JSON.stringify(card));this.setState({fourthCard:card});}},{key:\"storeFirstCardURL\",value:function storeFirstCardURL(url){localStorage.setItem('firstCardURL',JSON.stringify(url));this.setState({firstImgUrl:url});}},{key:\"storeSecondCardURL\",value:function storeSecondCardURL(url){localStorage.setItem('secondCardURL',JSON.stringify(url));this.setState({secondImgUrl:url});}},{key:\"storeThirdCardURL\",value:function storeThirdCardURL(url){localStorage.setItem('thirdCardURL',JSON.stringify(url));this.setState({thirdImgUrl:url});}},{key:\"storeFourthCardURL\",value:function storeFourthCardURL(url){localStorage.setItem('fourthCardURL',JSON.stringify(url));this.setState({fourthImgUrl:url});}},{key:\"storeEnableSee\",value:function storeEnableSee(val){localStorage.setItem('enableSee',JSON.stringify(val));this.setState({enableSee:val});}},{key:\"storeEnablePack\",value:function storeEnablePack(val){localStorage.setItem('enablePack',JSON.stringify(val));this.setState({enablePack:val});}},{key:\"storeEnableShow\",value:function storeEnableShow(val){localStorage.setItem('enableShow',JSON.stringify(val));this.setState({enableShow:val});}},{key:\"storePacked\",value:function storePacked(){localStorage.setItem('enableSee',JSON.stringify(false));localStorage.setItem('enablePack',JSON.stringify(false));localStorage.setItem('enableShow',JSON.stringify(false));this.setState({enableSee:false,enablePack:false,enableShow:false});}},{key:\"getCardIndicies\",value:function getCardIndicies(){return JSON.parse(localStorage.getItem('cardIndicies'))||[];}},{key:\"getFirstCard\",value:function getFirstCard(){return JSON.parse(localStorage.getItem('firstCard'))||'';}},{key:\"getSecondCard\",value:function getSecondCard(){return JSON.parse(localStorage.getItem('secondCard'))||'';}},{key:\"getThirdCard\",value:function getThirdCard(){return JSON.parse(localStorage.getItem('thirdCard'))||'';}},{key:\"getFourthCard\",value:function getFourthCard(){return JSON.parse(localStorage.getItem('fourthCard'))||'';}},{key:\"getFirstCardURL\",value:function getFirstCardURL(){return JSON.parse(localStorage.getItem('firstCardURL'))||'';}},{key:\"getSecondCardURL\",value:function getSecondCardURL(){return JSON.parse(localStorage.getItem('secondCardURL'))||'';}},{key:\"getThirdCardURL\",value:function getThirdCardURL(){return JSON.parse(localStorage.getItem('thirdCardURL'))||'';}},{key:\"getFourthCardURL\",value:function getFourthCardURL(){return JSON.parse(localStorage.getItem('fourthCardURL'))||'';}},{key:\"getEnableSee\",value:function getEnableSee(){if(JSON.parse(localStorage.getItem('enableSee')==null)){return true;}else{return JSON.parse(localStorage.getItem('enableSee'));}}},{key:\"getEnablePack\",value:function getEnablePack(){if(JSON.parse(localStorage.getItem('enablePack')==null)){return false;}else{return JSON.parse(localStorage.getItem('enablePack'));}}},{key:\"getEnableShow\",value:function getEnableShow(){if(JSON.parse(localStorage.getItem('enableShow')==null)){return false;}else{return JSON.parse(localStorage.getItem('enableShow'));}}}]);return Cards;}(Component);export default Cards;","map":{"version":3,"sources":["/Users/akhilgupta/Desktop/Teen Patti/src/components/Cards.js"],"names":["React","Component","TextField","Button","Box","fire","divStyle","display","justifyContent","table","horizontal","Cards","props","setupBeforeUnloadListener","window","addEventListener","ev","preventDefault","logout","bind","handleNumPlayersFieldChange","handleNumCardsFieldChange","generate","getCards","getRealCards","resetGame","packed","showCards","updateTable","scrollToBottom","getCellColor","state","cardIndicies","getCardIndicies","firstCard","secondCard","thirdCard","fourthCard","playerStats","numPlayers","numPackedPlayers","numCards","userState","displayName","gameSet","enableSee","getEnableSee","enablePack","getEnablePack","enableShow","getEnableShow","firstImgUrl","getFirstCardURL","secondImgUrl","getSecondCardURL","thirdImgUrl","getThirdCardURL","fourthImgUrl","getFourthCardURL","cardsStats","refs","scrollIntoView","behavior","block","inline","auth","onAuthStateChanged","user","setState","database","ref","on","snap","snapVal","val","isGameSet","parseInt","numCardsPerPlayer","storeEnableShow","localStorage","clear","child","once","then","forEach","isLoggedIn","name","status","cards","urls","concat","currentUser","uid","update","u","signOut","result","e","updates","storeEnableSee","storeEnablePack","key","randomNumbers","Set","cardsTrips","i","rand","Math","floor","random","add","cardsSet","values","cardsNum","j","next","value","storeCardIndicies","confirm","getFirstRealCard","getSecondRealCard","getThirdRealCard","getFourthRealCard","storePacked","stats","trimmedStats","slice","max","length","map","row","index","getRealCardsMessage","renderRealCards","backgroundColor","renderCardsPictures","renderStats","num","target","storeFirstCard","storage","getFirstCard","fullName","getDownloadURL","url","storeFirstCardURL","storeSecondCard","getSecondCard","storeSecondCardURL","storeThirdCard","getThirdCard","storeThirdCardURL","storeFourthCard","getFourthCard","storeFourthCardURL","indicies","setItem","JSON","stringify","card","parse","getItem"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { TextField, Button } from '@material-ui/core';\nimport Box from '@material-ui/core/Box';\nimport fire from 'firebase'\nimport '../App.css';\n\nconst divStyle = {\n    display: 'flex',\n    justifyContent: 'center'\n};\n\nconst table = {\n    display: 'grid'\n}\n\nconst horizontal = {\n    display: 'flex',\n    justifyContent: 'center'\n}\n\nclass Cards extends Component {\n    constructor(props) {\n        super(props);\n\n        this.logout = this.logout.bind(this);\n        this.handleNumPlayersFieldChange = this.handleNumPlayersFieldChange.bind(this);\n        this.handleNumCardsFieldChange = this.handleNumCardsFieldChange.bind(this);\n        this.generate = this.generate.bind(this);\n        this.getCards = this.getCards.bind(this);\n        this.getRealCards = this.getRealCards.bind(this);\n        this.resetGame = this.resetGame.bind(this);\n        this.packed = this.packed.bind(this);\n        this.showCards = this.showCards.bind(this);\n        this.updateTable = this.updateTable.bind(this);\n        this.scrollToBottom = this.scrollToBottom.bind(this);\n        this.getCellColor = this.getCellColor.bind(this);\n\n        this.state = {\n            cardIndicies: this.getCardIndicies(),\n            firstCard: [],\n            secondCard: [],\n            thirdCard: [],\n            fourthCard: [],\n            playerStats: [],\n            numPlayers: 0,\n            numPackedPlayers: 0,\n            numCards: 3,\n            userState: this.props.userState,\n            displayName: '',\n            gameSet: true,\n            enableSee: this.getEnableSee(),\n            enablePack: this.getEnablePack(),\n            enableShow: this.getEnableShow(),\n            firstImgUrl: this.getFirstCardURL(),\n            secondImgUrl: this.getSecondCardURL(),\n            thirdImgUrl: this.getThirdCardURL(),\n            fourthImgUrl: this.getFourthCardURL()\n        }\n    }\n\n    scrollToBottom() {\n        const { cardsStats } = this.refs;\n        cardsStats.scrollIntoView({ behavior: \"smooth\", block: \"end\", inline: \"nearest\" });\n    }\n\n    setupBeforeUnloadListener = () => {\n        window.addEventListener(\"beforeunload\", (ev) => {\n            ev.preventDefault();\n            return this.logout();\n        });\n    };\n\n    componentDidMount() {\n        this.setupBeforeUnloadListener();\n\n        fire.auth().onAuthStateChanged((user) => {\n            if (user) {\n                this.setState({\n                    displayName: user.displayName,\n                    userState: user\n                })\n            }\n        })\n\n        fire.database().ref('users').on('value', snap => {\n            var snapVal = snap.val()\n            this.setState({\n                gameSet: snapVal.isGameSet,\n                numCards: parseInt(snapVal.numCardsPerPlayer),\n                numPlayers: parseInt(snapVal.numPlayers),\n                numPackedPlayers: parseInt(snapVal.numPackedPlayers)\n            }, () => {\n                this.updateTable()\n            })\n        })\n\n        fire.database().ref('users/list').on('child_changed', snap => {\n            this.updateTable()\n        })\n\n        this.updateTable()\n    }\n\n    updateTable() {\n        this.setState({ playerStats: [] })\n        if (this.state.gameSet && (parseInt(this.state.numPlayers) - parseInt(this.state.numPackedPlayers) == 2)) {\n            if (this.getEnablePack()) {\n                this.storeEnableShow(true)\n            }\n        } else if (!this.state.gameSet) {\n            localStorage.clear()\n        }\n\n        fire.database().ref('users').child('list').once('value').then((snap) => {\n            snap.forEach((user) => {\n                if (user.val().isLoggedIn) {\n                    var name = user.val().name\n                    var status = user.val().status\n                    if (user.val().cards != null) {\n                        var urls = user.val().cards.urls\n                    }\n                    if (status == 'SHOW' && urls != null) {\n                        this.setState({\n                            playerStats: this.state.playerStats.concat({ name, status, urls })\n                        })\n                    } else {\n                        this.setState({\n                            playerStats: this.state.playerStats.concat({ name, status })\n                        })\n                    }\n                }\n            })\n        })\n    }\n\n    logout() {\n        localStorage.clear()\n        fire.database().ref('users/list/' + fire.auth().currentUser.uid).update({\n            cards: null,\n            isLoggedIn: false,\n            status: 'BLIND'\n        }).then((u) => {\n            fire.auth().signOut().then((result) => {\n                this.setState({\n                    userState: null\n                })\n            })\n        })\n    }\n\n    resetGame(e) {\n        e.preventDefault()\n        localStorage.clear()\n        // update isGameSet to database after reset game\n        var updates = {};\n        var ref = fire.database().ref('users/')\n        updates['isGameSet'] = false;\n        updates['numPackedPlayers'] = 0;\n\n        this.setState({\n            gameSet: false,\n            firstCard: [],\n            secondCard: [],\n            thirdCard: [],\n            fourthCard: [],\n            playerStats: [],\n            cardIndicies: [],\n            numPackedPlayers: 0,\n            firstImgUrl: '',\n            secondImgUrl: '',\n            thirdImgUrl: '',\n            fourthImgUrl: ''\n        })\n\n        this.storeEnableSee(true)\n        this.storeEnablePack(false)\n        this.storeEnableShow(false)\n\n        ref.update(updates).then((u) => {\n            fire.database().ref('users').child('list').once('value').then((snap) => {\n                snap.forEach((user) => {\n                    if (user.val().isLoggedIn) {\n                        fire.database().ref('users/list/' + user.key).update({\n                            cards: null,\n                            status: 'BLIND'\n                        })\n                    }\n                })\n            })\n        })\n    }\n\n    generate(e) {\n        e.preventDefault()\n        // update isGameSet, numCards and numPlayers to database\n        var updates = {};\n        var ref = fire.database().ref('users/')\n        updates['isGameSet'] = true;\n        updates['numCardsPerPlayer'] = this.state.numCards\n        updates['numPlayers'] = this.state.numPlayers\n        ref.update(updates).then((u) => {\n            this.setState({\n                gameSet: true\n            })\n        })\n\n        let randomNumbers = new Set();\n        let cardsTrips = [];\n        for (let i = 0; i < 52; i++) {\n            var rand = Math.floor((Math.random() * (51)));\n            randomNumbers.add(rand);\n        }\n\n        var cardsSet = randomNumbers.values()\n        const cardsNum = this.state.numCards\n\n        for (let j = 0; j < this.state.numPlayers; j++) {\n            if (cardsNum == 1) {\n                cardsTrips[j] = [cardsSet.next().value];\n            } else if (cardsNum == 2) {\n                cardsTrips[j] = [cardsSet.next().value, cardsSet.next().value];\n            } else if (cardsNum == 3) {\n                cardsTrips[j] = [cardsSet.next().value, cardsSet.next().value, cardsSet.next().value];\n            } else if (cardsNum == 4) {\n                cardsTrips[j] = [cardsSet.next().value, cardsSet.next().value, cardsSet.next().value, cardsSet.next().value];\n            } else {\n                cardsTrips[j] = [cardsSet.next().value, cardsSet.next().value, cardsSet.next().value];\n            }\n        }\n\n        // update cards to database\n        var i = 0;\n        fire.database().ref('users').child('list').once('value').then((snap) => {\n            snap.forEach((user) => {\n                if (user.val().isLoggedIn && i < this.state.numPlayers) {\n                    fire.database().ref('users/list/' + user.key).update({ cards: cardsTrips[i] })\n                    i++;\n                }\n            })\n        })\n    }\n\n    getCards(e) {\n        e.preventDefault()\n        if (this.state.gameSet == true) {\n            fire.database().ref('users/list/' + fire.auth().currentUser.uid + '/cards').once('value').then((snap => {\n                this.storeCardIndicies(snap.val())\n                this.getRealCards()\n            })).then((u) => {\n                this.storeEnableSee(false)\n                this.storeEnablePack(true)\n                this.storeEnableShow(false)\n                fire.database().ref('users/list/' + fire.auth().currentUser.uid).update({ status: 'SEEN' })\n            })\n        } else {\n            window.confirm(\"You need to setup a game before seeing your cards\")\n        }\n    }\n\n    getRealCards() {\n        const cardsNum = this.state.numCards\n        if (cardsNum == 1) {\n            this.getFirstRealCard()\n        } else if (cardsNum == 2) {\n            this.getSecondRealCard()\n        } else if (cardsNum == 3) {\n            this.getThirdRealCard()\n        } else if (cardsNum == 4) {\n            this.getFourthRealCard()\n        } else {\n            this.getThirdRealCard()\n        }\n    }\n\n    packed(e) {\n        e.preventDefault()\n        this.storePacked()\n        var updates = {};\n        var ref = fire.database().ref('users/')\n        updates['numPackedPlayers'] = parseInt(this.state.numPackedPlayers) + 1;\n        ref.update(updates).then((u) => {\n            this.setState({\n                numPackedPlayers: parseInt(this.state.numPackedPlayers) + 1\n            })\n        }).then((u) => {\n            fire.database().ref('users/list/' + fire.auth().currentUser.uid).update({ status: 'PACK' })\n        })\n    }\n\n    showCards(e) {\n        e.preventDefault()\n\n        this.storeEnableSee(false)\n        this.storeEnablePack(false)\n        this.storeEnableShow(false)\n        fire.database().ref('users/list/' + fire.auth().currentUser.uid).update({ status: 'SHOW' })\n    }\n\n    renderStats() {\n        const stats = this.state.playerStats\n        const trimmedStats = stats.slice(Math.max(stats.length - parseInt(this.state.numPlayers), 0))\n        return (\n            <div style={table}>\n                <table align=\"center\" border=\"1\" width=\"500px\">\n                    <thead>\n                        <tr>\n                            <th><h2>Name</h2></th>\n                            <th><h2>Status</h2></th>\n                            <th><h2>Cards</h2></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {trimmedStats.map((row, index) => {\n                            return (\n                                <tr key={index}>\n                                    <td><h3>{row.name}</h3></td>\n                                    <td style={{ 'background-color': this.getCellColor(row) }}><h3><font color=\"#FFF\">{row.status}</font></h3></td>\n                                    <td><h3>{this.getRealCardsMessage(row.urls)}</h3></td>\n                                </tr>\n                            )\n                        })}\n                    </tbody>\n                </table>\n            </div>)\n    }\n\n    renderCardsPictures() {\n        return (\n            <div style={horizontal}>\n                {this.renderRealCards()}\n            </div>\n        )\n    }\n\n    renderRealCards() {\n        const cardsNum = this.state.numCards\n        if (this.state.gameSet && this.getCardIndicies().length > 0) {\n            if (cardsNum == 1) {\n                return (\n                    <div style={horizontal}>\n                        <img width=\"100\" height=\"125\" alt=\"first-card\" src={this.state.firstImgUrl || ''}></img>\n                    </div>\n                )\n            } else if (cardsNum == 2) {\n                return (\n                    <div style={horizontal}>\n                        <img width=\"100\" height=\"125\" alt=\"first-card\" src={this.state.firstImgUrl || ''}></img>\n                        <img width=\"100\" height=\"125\" alt=\"second-card\" src={this.state.secondImgUrl || ''}></img>\n                    </div>\n                )\n            } else if (cardsNum == 3) {\n                return (\n                    <div style={horizontal}>\n                        <img width=\"100\" height=\"125\" alt=\"first-card\" src={this.state.firstImgUrl || ''}></img>\n                        <img width=\"100\" height=\"125\" alt=\"second-card\" src={this.state.secondImgUrl || ''}></img>\n                        <img width=\"100\" height=\"125\" alt=\"third-card\" src={this.state.thirdImgUrl || ''}></img>\n                    </div>\n                )\n            } else if (cardsNum == 4) {\n                return (\n                    <div style={horizontal}>\n                        <img width=\"100\" height=\"125\" alt=\"first-card\" src={this.state.firstImgUrl || ''}></img>\n                        <img width=\"100\" height=\"125\" alt=\"second-card\" src={this.state.secondImgUrl || ''}></img>\n                        <img width=\"100\" height=\"125\" alt=\"third-card\" src={this.state.thirdImgUrl || ''}></img>\n                        <img width=\"100\" height=\"125\" alt=\"fourth-card\" src={this.state.fourthImgUrl || ''}></img>\n                    </div>\n                )\n            }\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"container\" >\n                <div className=\"setup_game\" style={divStyle}>\n                    {!this.state.gameSet && <div style={divStyle}>\n                        <Box m={2}>\n                            <TextField id=\"numPlayers\" label=\"Number of players\" value={this.state.numPlayers} onChange={this.handleNumPlayersFieldChange} helperText=\"Please enter the number of players\" />\n                        </Box>\n                        <Box m={2}>\n                            <TextField id=\"numCards\" label=\"Number of cards\" value={this.state.numCards} onChange={this.handleNumCardsFieldChange} helperText=\"Please enter the number of cards\" />\n                        </Box>\n                        <Box m={2} pt={3}>\n                            <Button variant=\"contained\" color=\"secondary\" onClick={this.generate.bind(this)}>SETUP GAME</Button>\n                        </Box> </div>}\n                </div><br /><br />\n                <Box>\n                    <Button size=\"large\" variant=\"outlined\" color=\"primary\" >Hello, {this.state.displayName}</Button>\n                </Box>\n                <div className=\"logout_reset\" style={divStyle}>\n                    <Box m={2}>\n                        <Button variant=\"contained\" color=\"primary\" onClick={this.logout.bind(this)} >Logout</Button>\n                    </Box>\n                    <Box m={2}>\n                        <Button variant=\"contained\" color=\"primary\" onClick={this.resetGame.bind(this)} >Reset Game</Button>\n                    </Box>\n                </div>\n                <div className=\"logout_reset\" style={divStyle}>\n                    <Box m={2}>\n                        <Button variant=\"contained\" color=\"primary\" onClick={this.getCards.bind(this)} disabled={!this.getEnableSee()} >See Cards</Button>\n                    </Box>\n                    <Box m={2}>\n                        <Button style={{ backgroundColor: 'crimson' }} variant=\"contained\" color=\"primary\" onClick={this.packed.bind(this)} disabled={!this.getEnablePack()} >Pack</Button>\n                    </Box>\n                    <Box m={2}>\n                        <Button style={{ backgroundColor: 'green' }} variant=\"contained\" color=\"primary\" onClick={this.showCards.bind(this)} disabled={!this.getEnableShow()} >Show Cards</Button>\n                    </Box>\n                </div>\n                <div style={horizontal}>\n                    <h2>Your cards are:</h2>\n                    {this.renderCardsPictures()}\n                </div>\n                <div ref=\"cardsStats\">\n                    {this.renderStats()}\n                </div>\n            </div >\n        );\n    }\n\n    handleNumPlayersFieldChange(e) {\n        e.preventDefault()\n        const num = e.target.value\n        this.setState({\n            numPlayers: num\n        })\n    }\n\n    handleNumCardsFieldChange(e) {\n        e.preventDefault()\n        const num = e.target.value\n        this.setState({\n            numCards: num\n        })\n    }\n\n    // Util methods\n    getCellColor(row) {\n        if (row.status == 'BLIND') {\n            return 'black'\n        } else if (row.status == 'PACK') {\n            return 'crimson'\n        } else if (row.status == 'SEEN') {\n            return 'royalblue'\n        } else {\n            return 'green'\n        }\n    }\n\n    getRealCardsMessage(urls) {\n        const cardsNum = this.state.numCards\n        if (this.state.gameSet && urls != null && urls.length > 0) {\n            if (cardsNum == 1) {\n                return (\n                    <div style={horizontal}>\n                        <img width=\"100\" height=\"125\" alt=\"first-card\" src={urls[0] || ''}></img>\n                    </div>\n                )\n            } else if (cardsNum == 2) {\n                return (\n                    <div style={horizontal}>\n                        <img width=\"100\" height=\"125\" alt=\"first-card\" src={urls[0] || ''}></img>\n                        <img width=\"100\" height=\"125\" alt=\"second-card\" src={urls[1] || ''}></img>\n                    </div>\n                )\n            } else if (cardsNum == 3) {\n                return (\n                    <div style={horizontal}>\n                        <img width=\"100\" height=\"125\" alt=\"first-card\" src={urls[0] || ''}></img>\n                        <img width=\"100\" height=\"125\" alt=\"second-card\" src={urls[1] || ''}></img>\n                        <img width=\"100\" height=\"125\" alt=\"third-card\" src={urls[2] || ''}></img>\n                    </div>\n                )\n            } else if (cardsNum == 4) {\n                return (\n                    <div style={horizontal}>\n                        <img width=\"100\" height=\"125\" alt=\"first-card\" src={urls[0] || ''}></img>\n                        <img width=\"100\" height=\"125\" alt=\"second-card\" src={urls[1] || ''}></img>\n                        <img width=\"100\" height=\"125\" alt=\"third-card\" src={urls[2] || ''}></img>\n                        <img width=\"100\" height=\"125\" alt=\"fourth-card\" src={urls[3] || ''}></img>\n                    </div>\n                )\n            }\n        }\n    }\n\n    getFirstRealCard() {\n        fire.database().ref('cards/' + this.state.cardIndicies[0]).once('value').then((snap => {\n            this.storeFirstCard(snap.val())\n        })).then((u) => {\n            fire.storage().ref('/').child(`${this.getFirstCard().fullName}.png`).getDownloadURL().then(url => {\n                this.storeFirstCardURL(url)\n            }).then((u) => {\n                fire.database().ref('users/list/' + fire.auth().currentUser.uid + '/cards/urls').update({ 0: this.getFirstCardURL() })\n            })\n        })\n    }\n\n    getSecondRealCard() {\n        this.getFirstRealCard()\n        fire.database().ref('cards/' + this.state.cardIndicies[1]).once('value').then((snap => {\n            this.storeSecondCard(snap.val())\n        })).then((u) => {\n            fire.storage().ref('/').child(`${this.getSecondCard().fullName}.png`).getDownloadURL().then(url => {\n                this.storeSecondCardURL(url)\n            }).then((u) => {\n                fire.database().ref('users/list/' + fire.auth().currentUser.uid + '/cards/urls').update({ 1: this.getSecondCardURL() })\n            })\n        });\n    }\n\n    getThirdRealCard() {\n        this.getFirstRealCard()\n        this.getSecondRealCard()\n        fire.database().ref('cards/' + this.state.cardIndicies[2]).once('value').then((snap => {\n            this.storeThirdCard(snap.val())\n        })).then((u) => {\n            fire.storage().ref('/').child(`${this.getThirdCard().fullName}.png`).getDownloadURL().then(url => {\n                this.storeThirdCardURL(url)\n            }).then((u) => {\n                fire.database().ref('users/list/' + fire.auth().currentUser.uid + '/cards/urls').update({ 2: this.getThirdCardURL() })\n            })\n        });\n    }\n\n    getFourthRealCard() {\n        this.getFirstRealCard()\n        this.getSecondRealCard()\n        this.getThirdRealCard()\n        fire.database().ref('cards/' + this.state.cardIndicies[3]).once('value').then((snap => {\n            this.storeFourthCard(snap.val())\n        })).then((u) => {\n            fire.storage().ref('/').child(`${this.getFourthCard().fullName}.png`).getDownloadURL().then(url => {\n                this.storeFourthCardURL(url)\n            }).then((u) => {\n                fire.database().ref('users/list/' + fire.auth().currentUser.uid + '/cards/urls').update({ 3: this.getFourthCardURL() })\n            })\n        });\n    }\n\n    // Store and get from local storage\n    storeCardIndicies(indicies) {\n        localStorage.setItem('cardIndicies', JSON.stringify(indicies))\n        this.setState({ cardIndicies: indicies })\n    }\n\n    storeFirstCard(card) {\n        localStorage.setItem('firstCard', JSON.stringify(card))\n        this.setState({ firstCard: card })\n    }\n\n    storeSecondCard(card) {\n        localStorage.setItem('secondCard', JSON.stringify(card))\n        this.setState({ secondCard: card })\n    }\n\n    storeThirdCard(card) {\n        localStorage.setItem('thirdCard', JSON.stringify(card))\n        this.setState({ thirdCard: card })\n    }\n\n    storeFourthCard(card) {\n        localStorage.setItem('fourthCard', JSON.stringify(card))\n        this.setState({ fourthCard: card })\n    }\n\n    storeFirstCardURL(url) {\n        localStorage.setItem('firstCardURL', JSON.stringify(url))\n        this.setState({ firstImgUrl: url })\n    }\n\n    storeSecondCardURL(url) {\n        localStorage.setItem('secondCardURL', JSON.stringify(url))\n        this.setState({ secondImgUrl: url })\n    }\n\n    storeThirdCardURL(url) {\n        localStorage.setItem('thirdCardURL', JSON.stringify(url))\n        this.setState({ thirdImgUrl: url })\n    }\n\n    storeFourthCardURL(url) {\n        localStorage.setItem('fourthCardURL', JSON.stringify(url))\n        this.setState({ fourthImgUrl: url })\n    }\n\n    storeEnableSee(val) {\n        localStorage.setItem('enableSee', JSON.stringify(val))\n        this.setState({ enableSee: val })\n    }\n\n    storeEnablePack(val) {\n        localStorage.setItem('enablePack', JSON.stringify(val))\n        this.setState({ enablePack: val })\n    }\n\n    storeEnableShow(val) {\n        localStorage.setItem('enableShow', JSON.stringify(val))\n        this.setState({ enableShow: val })\n    }\n\n    storePacked() {\n        localStorage.setItem('enableSee', JSON.stringify(false))\n        localStorage.setItem('enablePack', JSON.stringify(false))\n        localStorage.setItem('enableShow', JSON.stringify(false))\n        this.setState({\n            enableSee: false,\n            enablePack: false,\n            enableShow: false\n        })\n    }\n\n    getCardIndicies() {\n        return JSON.parse(localStorage.getItem('cardIndicies')) || []\n    }\n\n    getFirstCard() {\n        return JSON.parse(localStorage.getItem('firstCard')) || ''\n    }\n\n    getSecondCard() {\n        return JSON.parse(localStorage.getItem('secondCard')) || ''\n    }\n\n    getThirdCard() {\n        return JSON.parse(localStorage.getItem('thirdCard')) || ''\n    }\n\n    getFourthCard() {\n        return JSON.parse(localStorage.getItem('fourthCard')) || ''\n    }\n\n    getFirstCardURL() {\n        return JSON.parse(localStorage.getItem('firstCardURL')) || ''\n    }\n\n    getSecondCardURL() {\n        return JSON.parse(localStorage.getItem('secondCardURL')) || ''\n    }\n\n    getThirdCardURL() {\n        return JSON.parse(localStorage.getItem('thirdCardURL')) || ''\n    }\n\n    getFourthCardURL() {\n        return JSON.parse(localStorage.getItem('fourthCardURL')) || ''\n    }\n\n    getEnableSee() {\n        if (JSON.parse(localStorage.getItem('enableSee') == null)) {\n            return true\n        } else {\n            return JSON.parse(localStorage.getItem('enableSee'))\n        }\n    }\n\n    getEnablePack() {\n        if (JSON.parse(localStorage.getItem('enablePack') == null)) {\n            return false\n        } else {\n            return JSON.parse(localStorage.getItem('enablePack'))\n        }\n    }\n\n    getEnableShow() {\n        if (JSON.parse(localStorage.getItem('enableShow') == null)) {\n            return false\n        } else {\n            return JSON.parse(localStorage.getItem('enableShow'))\n        }\n    }\n}\n\nexport default Cards"]},"metadata":{},"sourceType":"module"}