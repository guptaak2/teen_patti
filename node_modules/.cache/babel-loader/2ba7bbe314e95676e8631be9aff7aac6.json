{"ast":null,"code":"import _classCallCheck from\"/Users/akhilgupta/Desktop/Teen Patti/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/akhilgupta/Desktop/Teen Patti/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/akhilgupta/Desktop/Teen Patti/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/akhilgupta/Desktop/Teen Patti/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/akhilgupta/Desktop/Teen Patti/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{TextField,Button}from'@material-ui/core';import Box from'@material-ui/core/Box';import fire from'../config/Fire';var cards=[];var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.login=_this.login.bind(_assertThisInitialized(_this));_this.signup=_this.signup.bind(_assertThisInitialized(_this));_this.handleEmailFieldChange=_this.handleEmailFieldChange.bind(_assertThisInitialized(_this));_this.handlePasswordFieldChange=_this.handlePasswordFieldChange.bind(_assertThisInitialized(_this));_this.handleFirstNameFieldChange=_this.handleFirstNameFieldChange.bind(_assertThisInitialized(_this));_this.getUserData=_this.getUserData.bind(_assertThisInitialized(_this));_this.writeNewUser=_this.writeNewUser.bind(_assertThisInitialized(_this));_this.state={firstName:'',email:'',password:''};return _this;}_createClass(Login,[{key:\"componentDidMount\",value:function componentDidMount(){// GET CARDS BRO\nvar dbRef=fire.database().ref().child('cards');dbRef.on('value',function(snap){snap.val().forEach(function(card){cards.push({suit:card.suit,card:card.card});});cards.forEach(function(card){console.log(\"Suit: \"+card.suit+\" Card: \"+card.card);});});}},{key:\"getUserData\",value:function getUserData(){var userId=fire.auth().currentUser.uid;console.log(userId);return fire.database().ref('users/list/'+userId).once('value').then(function(snapshot){var username=snapshot.val()&&snapshot.val().username||'Anonymous';console.log(username);});}},{key:\"login\",value:function login(e){e.preventDefault();fire.auth().signInWithEmailAndPassword(this.state.email,this.state.password).then(function(u){}).catch(function(error){console.log(error);});}},{key:\"signup\",value:function signup(e){var _this2=this;e.preventDefault();fire.auth().createUserWithEmailAndPassword(this.state.email,this.state.password).then(function(u){_this2.writeNewUser();}).catch(function(error){console.log(error);});}},{key:\"writeNewUser\",value:function writeNewUser(){var userId=fire.auth().currentUser.uid;var updates={};updates['users/list/'+userId]=userId;fire.database().ref().update(updates);fire.database().ref('users/list/'+userId).set({email:this.state.email,name:this.state.firstName},function(error){if(error){console.log(\"User save error\");}else{console.log(\"User saved successfully\");}});}},{key:\"handleEmailFieldChange\",value:function handleEmailFieldChange(e){e.preventDefault();this.setState({email:e.target.value});}},{key:\"handlePasswordFieldChange\",value:function handlePasswordFieldChange(e){e.preventDefault();this.setState({password:e.target.value});}},{key:\"handleFirstNameFieldChange\",value:function handleFirstNameFieldChange(e){e.preventDefault();this.setState({firstName:e.target.value});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{align:\"center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"Login\"},/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(Box,null,/*#__PURE__*/React.createElement(TextField,{id:\"firstName\",label:\"First name (lowercase)\",value:this.state.firstName,onChange:this.handleFirstNameFieldChange,helperText:\"Please enter your first name\"})),/*#__PURE__*/React.createElement(Box,null,/*#__PURE__*/React.createElement(TextField,{id:\"email\",label:\"Email\",value:this.state.email,onChange:this.handleEmailFieldChange,helperText:\"Please enter your email\"})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Box,null,/*#__PURE__*/React.createElement(TextField,{id:\"password\",type:\"password\",label:\"Password\",value:this.state.password,onChange:this.handlePasswordFieldChange,helperText:\"Please enter your password\"})),/*#__PURE__*/React.createElement(Box,{m:2,pt:3},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:this.login.bind(this)},\"LOGIN\")),/*#__PURE__*/React.createElement(Box,null,/*#__PURE__*/React.createElement(Button,{className:\"btn btn-success\",variant:\"contained\",color:\"primary\",onClick:this.signup.bind(this)},\"SIGN UP\")))));}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["/Users/akhilgupta/Desktop/Teen Patti/src/components/Login.js"],"names":["React","Component","TextField","Button","Box","fire","cards","Login","props","login","bind","signup","handleEmailFieldChange","handlePasswordFieldChange","handleFirstNameFieldChange","getUserData","writeNewUser","state","firstName","email","password","dbRef","database","ref","child","on","snap","val","forEach","card","push","suit","console","log","userId","auth","currentUser","uid","once","then","snapshot","username","e","preventDefault","signInWithEmailAndPassword","u","catch","error","createUserWithEmailAndPassword","updates","update","set","name","setState","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { TextField, Button } from '@material-ui/core';\nimport Box from '@material-ui/core/Box';\nimport fire from '../config/Fire';\n\nvar cards = [];\n\nclass Login extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t\n\t\tthis.login = this.login.bind(this);\n\t\tthis.signup = this.signup.bind(this);\n\t\tthis.handleEmailFieldChange = this.handleEmailFieldChange.bind(this)\n\t\tthis.handlePasswordFieldChange = this.handlePasswordFieldChange.bind(this)\n\t\tthis.handleFirstNameFieldChange = this.handleFirstNameFieldChange.bind(this)\n\t\tthis.getUserData = this.getUserData.bind(this)\n\t\tthis.writeNewUser = this.writeNewUser.bind(this)\n\t\tthis.state = {\n\t\t\tfirstName: '',\n\t\t\temail: '',\n\t\t\tpassword: '',\n\t\t};\n\t}\n\t\n\tcomponentDidMount() {\n\t\t// GET CARDS BRO\n\t\tconst dbRef = fire.database().ref().child('cards')\n\t\tdbRef.on('value', snap => {\n\t\t\tsnap.val().forEach((card) => {\n\t\t\t\tcards.push({\n\t\t\t\t\tsuit: card.suit,\n\t\t\t\t\tcard: card.card\n\t\t\t\t});\n\t\t\t})\n\t\t\tcards.forEach((card) => {\n\t\t\t\tconsole.log(\"Suit: \" + card.suit + \" Card: \" + card.card)\n\t\t\t})\n\t\t})\n\t}\n\t\n\tgetUserData() {\n\t\tvar userId = fire.auth().currentUser.uid;\n\t\tconsole.log(userId)\n\t\treturn fire.database().ref('users/list/' + userId).once('value').then(function (snapshot) {\n\t\t\tvar username = (snapshot.val() && snapshot.val().username) || 'Anonymous';\n\t\t\tconsole.log(username)\n\t\t});\n\t}\n\t\n\tlogin(e) {\n\t\te.preventDefault();\n\t\tfire.auth().signInWithEmailAndPassword(this.state.email, this.state.password).then((u) => {\n\t\t}).catch((error) => {\n\t\t\tconsole.log(error);\n\t\t});\n\t}\n\t\n\tsignup(e) {\n\t\te.preventDefault();\n\t\tfire.auth().createUserWithEmailAndPassword(this.state.email, this.state.password).then((u) => {\n\t\t\tthis.writeNewUser()\n\t\t}).catch((error) => {\n\t\t\tconsole.log(error);\n\t\t})\n\t}\n\t\n\twriteNewUser() {\n\t\tvar userId = fire.auth().currentUser.uid;\n\t\tvar updates = {};\n\t\tupdates['users/list/' + userId] = userId;\n\t\tfire.database().ref().update(updates);\n\t\tfire.database().ref('users/list/' + userId).set({\n\t\t\temail: this.state.email,\n\t\t\tname: this.state.firstName\n\t\t}, function (error) {\n\t\t\tif (error) {\n\t\t\t\tconsole.log(\"User save error\")\n\t\t\t} else {\n\t\t\t\tconsole.log(\"User saved successfully\")\n\t\t\t}\n\t\t});\n\t}\n\t\n\thandleEmailFieldChange(e) {\n\t\te.preventDefault()\n\t\tthis.setState({\n\t\t\temail: e.target.value\n\t\t})\n\t}\n\t\n\thandlePasswordFieldChange(e) {\n\t\te.preventDefault()\n\t\tthis.setState({\n\t\t\tpassword: e.target.value\n\t\t})\n\t}\n\t\n\thandleFirstNameFieldChange(e) {\n\t\te.preventDefault()\n\t\tthis.setState({\n\t\t\tfirstName: e.target.value\n\t\t})\n\t}\n\t\n\trender() {\n\t\treturn (\n\t\t\t<div align=\"center\">\n\t\t\t<div className=\"Login\">\n\t\t\t<form>\n\t\t\t<Box>\n\t\t\t<TextField id=\"firstName\" label=\"First name (lowercase)\" value={this.state.firstName} onChange={this.handleFirstNameFieldChange} helperText=\"Please enter your first name\" />\n\t\t\t</Box>\n\t\t\t<Box>\n\t\t\t<TextField id=\"email\" label=\"Email\" value={this.state.email} onChange={this.handleEmailFieldChange} helperText=\"Please enter your email\" />\n\t\t\t</Box>\n\t\t\t<br />\n\t\t\t<Box>\n\t\t\t<TextField id=\"password\" type=\"password\" label=\"Password\" value={this.state.password} onChange={this.handlePasswordFieldChange} helperText=\"Please enter your password\" />\n\t\t\t</Box>\n\t\t\t<Box m={2} pt={3}>\n\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={this.login.bind(this)} >LOGIN</Button>\n\t\t\t</Box>\n\t\t\t<Box>\n\t\t\t<Button className=\"btn btn-success\" variant=\"contained\" color=\"primary\" onClick={this.signup.bind(this)} >SIGN UP</Button>\n\t\t\t</Box>\n\t\t\t</form>\n\t\t\t</div>\n\t\t\t</div>\n\t\t\t)\n\t\t}\n\t}\n\t\n\texport default Login;"]},"metadata":{},"sourceType":"module"}