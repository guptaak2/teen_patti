(this.webpackJsonpteen_patti=this.webpackJsonpteen_patti||[]).push([[0],{108:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(9),i=t.n(s),l=(t(76),t(29)),c=t(30),o=t(33),u=t(32),d=(t(77),t(14)),h=t.n(d),m=h.a.initializeApp({apiKey:"AIzaSyB8PcAZcXkzuqhwiE1itEi3XZ6z6lFjsSM",authDomain:"teen-patti-5a5fc.firebaseapp.com",databaseURL:"https://teen-patti-5a5fc.firebaseio.com",projectId:"teen-patti-5a5fc",storageBucket:"teen-patti-5a5fc.appspot.com",messagingSenderId:"478653158074",appId:"1:478653158074:web:315fbf33f859b2a4632883",measurementId:"G-8WZ36J1853"}),f=t(12),v=t(134),g=t(137),b=t(136),p=[],E=function(e){Object(o.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).login=n.login.bind(Object(f.a)(n)),n.signup=n.signup.bind(Object(f.a)(n)),n.handleEmailFieldChange=n.handleEmailFieldChange.bind(Object(f.a)(n)),n.handlePasswordFieldChange=n.handlePasswordFieldChange.bind(Object(f.a)(n)),n.handleFirstNameFieldChange=n.handleFirstNameFieldChange.bind(Object(f.a)(n)),n.getUserData=n.getUserData.bind(Object(f.a)(n)),n.writeNewUser=n.writeNewUser.bind(Object(f.a)(n)),n.state={firstName:"",email:"",password:""},n}return Object(c.a)(t,[{key:"componentDidMount",value:function(){m.database().ref().child("cards").on("value",(function(e){e.val().forEach((function(e){p.push({suit:e.suit,card:e.card})})),p.forEach((function(e){console.log("Suit: "+e.suit+" Card: "+e.card)}))}))}},{key:"getUserData",value:function(){var e=m.auth().currentUser.uid;return console.log(e),m.database().ref("users/list/"+e).once("value").then((function(e){var a=e.val()&&e.val().username||"Anonymous";console.log(a)}))}},{key:"login",value:function(e){e.preventDefault(),m.auth().signInWithEmailAndPassword(this.state.email,this.state.password).then((function(e){})).catch((function(e){console.log(e)}))}},{key:"signup",value:function(e){var a=this;e.preventDefault(),m.auth().createUserWithEmailAndPassword(this.state.email,this.state.password).then((function(e){a.writeNewUser()})).catch((function(e){console.log(e)}))}},{key:"writeNewUser",value:function(){var e=m.auth().currentUser.uid,a={};a["users/list/"+e]=e,m.database().ref().update(a),m.database().ref("users/list/"+e).set({email:this.state.email,name:this.state.firstName},(function(e){e?console.log("User save error"):console.log("User saved successfully")}))}},{key:"handleEmailFieldChange",value:function(e){e.preventDefault(),this.setState({email:e.target.value})}},{key:"handlePasswordFieldChange",value:function(e){e.preventDefault(),this.setState({password:e.target.value})}},{key:"handleFirstNameFieldChange",value:function(e){e.preventDefault(),this.setState({firstName:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{align:"center"},r.a.createElement("div",{className:"Login"},r.a.createElement("form",null,r.a.createElement(b.a,null,r.a.createElement(v.a,{id:"firstName",label:"First name (lowercase)",value:this.state.firstName,onChange:this.handleFirstNameFieldChange,helperText:"Please enter your first name"})),r.a.createElement(b.a,null,r.a.createElement(v.a,{id:"email",label:"Email",value:this.state.email,onChange:this.handleEmailFieldChange,helperText:"Please enter your email"})),r.a.createElement("br",null),r.a.createElement(b.a,null,r.a.createElement(v.a,{id:"password",type:"password",label:"Password",value:this.state.password,onChange:this.handlePasswordFieldChange,helperText:"Please enter your password"})),r.a.createElement(b.a,{m:2,pt:3},r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.login.bind(this)},"LOGIN")),r.a.createElement(b.a,null,r.a.createElement(g.a,{className:"btn btn-success",variant:"contained",color:"primary",onClick:this.signup.bind(this)},"SIGN UP")))))}}]),t}(n.Component),C=(t(91),{display:"flex",justifyContent:"center",alignItems:"center"}),y=function(e){Object(o.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).logout=n.logout.bind(Object(f.a)(n)),n.handleNumPlayersFieldChange=n.handleNumPlayersFieldChange.bind(Object(f.a)(n)),n.generate=n.generate.bind(Object(f.a)(n)),n.getCards=n.getCards.bind(Object(f.a)(n)),n.getRealCards=n.getRealCards.bind(Object(f.a)(n)),n.resetGame=n.resetGame.bind(Object(f.a)(n)),n.state={cardIndicies:[],firstCard:[],secondCard:[],thirdCard:[],cards:[],numPlayers:"",userState:n.props.userState,gameSet:!0},n}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;h.a.auth().onAuthStateChanged((function(a){a&&e.setState({userState:a})})),h.a.database().ref("users/isGameSet").on("value",(function(a){e.setState({gameSet:a.val()})}))}},{key:"logout",value:function(){var e=this;h.a.auth().signOut().then((function(a){e.setState({userState:null})}))}},{key:"resetGame",value:function(e){e.preventDefault();var a={"users/isGameSet":!1};h.a.database().ref().update(a),this.setState((function(e){return{gameSet:!e.gameSet}})),console.log("resetGame: "+this.state.gameSet)}},{key:"generate",value:function(e){e.preventDefault();for(var a=new Set,t=[],n=0;n<52;n++){var r=Math.floor(51*Math.random());a.add(r)}for(var s=a.values(),i=0;i<this.state.numPlayers;i++)t[i]=[s.next().value,s.next().value,s.next().value];console.log(t),this.setState({gameSet:!0});var l={"users/isGameSet":!0};h.a.database().ref().update(l);var c=0;h.a.database().ref("users").child("list").once("value",(function(e){e.forEach((function(e){h.a.database().ref("users/list/"+e.key).update({cards:t[c]}),c++}))}))}},{key:"getCards",value:function(e){var a=this;e.preventDefault(),h.a.database().ref("users/list/"+h.a.auth().currentUser.uid+"/cards").once("value").then((function(e){a.setState({cardIndicies:e.val()}),a.getRealCards()}))}},{key:"getRealCards",value:function(){var e=this;h.a.database().ref("cards/"+this.state.cardIndicies[0]).once("value").then((function(a){e.setState({firstCard:a.val()})})),h.a.database().ref("cards/"+this.state.cardIndicies[1]).once("value").then((function(a){e.setState({secondCard:a.val()})})),h.a.database().ref("cards/"+this.state.cardIndicies[2]).once("value").then((function(a){e.setState({thirdCard:a.val()})}))}},{key:"renderCards",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"The first card is: ",this.state.firstCard.card," ",this.state.firstCard.suit),r.a.createElement("h3",null,"The second card is: ",this.state.secondCard.card," ",this.state.secondCard.suit),r.a.createElement("h3",null,"The third card is: ",this.state.thirdCard.card," ",this.state.thirdCard.suit))}},{key:"handleNumPlayersFieldChange",value:function(e){e.preventDefault(),this.setState({numPlayers:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"top_row",style:C},!this.state.gameSet&&r.a.createElement("div",{style:C},r.a.createElement(b.a,null,r.a.createElement(v.a,{id:"numPlayers",label:"Number of players",value:this.state.numPlayers,onChange:this.handleNumPlayersFieldChange,helperText:"Please enter the number of players"})),r.a.createElement(b.a,{m:2,pt:3},r.a.createElement(g.a,{variant:"contained",color:"secondary",onClick:this.generate.bind(this)},"SETUP GAME"))," ")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(b.a,{m:2},r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.logout.bind(this)},"Logout")),r.a.createElement(b.a,{m:2},r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.resetGame.bind(this)},"Reset Game")),r.a.createElement(b.a,null,r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.getCards.bind(this)},"Get Cards")),r.a.createElement("h2",null,"Your cards are:"),this.renderCards())}}]),t}(n.Component),S=t(61),w=t.n(S),k=function(e){Object(o.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(l.a)(this,t),(e=a.call(this)).state={user:{}},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;m.auth().onAuthStateChanged((function(a){console.log(a),a?e.setState({user:a}):e.setState({user:null})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("img",{src:w.a,width:"200",alt:"logo-image"}),r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("div",null,this.state.user?r.a.createElement(y,{userState:this.state.user}):r.a.createElement(E,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},61:function(e,a,t){e.exports=t.p+"static/media/logo.f67306a7.png"},71:function(e,a,t){e.exports=t(108)},76:function(e,a,t){},77:function(e,a,t){}},[[71,1,2]]]);
//# sourceMappingURL=main.fe0bfe3d.chunk.js.map